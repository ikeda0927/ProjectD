# Gitの使い方　~ branch編 ~
まずは基本的な操作です。
---
+ リモートリポジトリの状態をローカルリポジトリに持ってくる。  

  `git  pull origin ブランチ名`  

+ 変更内容をステージングする。(ステージングはコミットするファイルを分けるためにする)  

  `git add コミットしたいファイルの名前`

+ 変更内容をコミットする。(コミットは変更内容を記録し、後から辿れるようにするため）  

  `git commit -m "変更内容や、作業内容を記す"`

+ 先ほどのコミットをリモートリポジトリに反映させる。

  `git push origin ブランチ名`

  ---

  ここまでは以前やったと思います。  

  しかし、自分があるファイルを変更しようとしているときに、他の人がファイルを変更してしまうと、必ず自分で確認して修正する必要がありました。  

  これでは効率が良くないので、機能の実装やステージの作成、その他諸々をbranchで分けて作業しようと思います。

### 作業をbranchで分ける
+ ブランチの作成  
  新たにブランチを作成してそこで各自の作業をすることにします。

  `git branch ブランチ名`  

+ ブランチの確認  
  ブランチができたかどうか確認します。(任意)

  `git branch`

  ここで表示されているブランチ名の中に一つだけアスタリスクが付いているのがあります。  
  これが現在いるブランチです。  
  ここではまだ作成したブランチにいないと思います。

+ ブランチの移動

  `git checkout ブランチ名`

  これで指定したブランチに移ることが出来ます。

+ ブランチの状態を他のブランチに合わせる  
  新しくファイルを追加し、それをいじるとか言う場合はこの作業は必要ありませんが、
  既存のファイルをいじる場合はこの作業をしておいたほうが良いと思います。  

  `git pull origin master`

  これを実行してとりあえずmasterに合わせます。

+ 作業をする
+ ある程度作業を終えたら❶そのブランチのまま保存するか、❷masterに取り入れるか(merge)を選択します。  
+ ❶そのブランチのまま保存し後から作業できるようにする。  
  上にある基本的な操作の通りにコマンドを入力します。  

  + まずは新規に作成したファイルや変更を加えたファイルを  

    >`git add コミットしたいファイルの名前`

    でステージングします。  
  + 次はコミットします。  

    >`git commit -m "変更内容や、作業内容を記す"`

  + そうしたら__作業をしたブランチの名前をブランチ名に指定__して下記のコマンドを実行します。  

    >`git push origin ブランチ名`  

    これでリモートリポジトリに新たにブランチが作成され、作業がリモートリポジトリに保存されました。  

    次に作業を開始する時は、このブランチで作業をします。  
    心配でしたら  
    >`git branch`  

    で現在のブランチを確認します。


+ ❷masterに取り入れる(mergeするorしてもらう)
  この作業をするのは作成した機能が完成した(最低限動作するようになった)、もしくはバグの修正をした時などになります。

  + まずはリモートリポジトリの方に作業を保存します。  
    手順は❶と同じです。

  + 次にブラウザの方でGitHubを開き、ProjectDのリポジトリを開きます。  
    すると、いくつかのフォルダやファイルの名前が列挙されているページに移ります。

  + その列挙されているところの上ら辺に__Branch:ブランチ名__となっているボタンがあります。  
    それを押すことで、ブランチの切り替えができます。

  + 自分の作業をしていたブランチを選択し、そのブランチを選択するボタンの一行下の右端に__Compare__と書かれているものがあります。  

  + これを押すことでConflict(衝突)が起きていないかを調べられます。

  + 問題がない場合は__Able to merge__が緑色で表示されます。

  + 問題がなければそのまま__Create Pull Request__を押してmasterブランチに作業の成果を取り込んでもらいます。
    入力する項目にはコミットメッセージ(追加した機能などの作業内容)を入力します。　　

  + もし、問題(Conflict)があった場合は__Can’t automatically merge__が赤色で表示されていると思います。  

  + この場合でもとりあえず__Create Pull Request__を押します。  
    入力する項目にはコミットメッセージ(追加した機能などの作業内容)を入力します。

  + もし__This branch has conflicts that must be resolved__と言うのが出て__Resolve Conflicts__と言うボタンが押せるならば、それを押してConflictを解消します。(よくわからない場合は池田康平に聞いてください)  

  + Conflictが解消されて作業の成果を取り込んでもらいます。

+ 以上の工程を経て無事に成果をmasterブランチに取り入れられたらOKです。  

### 念の為言っておきますが、これを書いている自分自身完全にGitのことを理解しているわけではないので間違っているところがあるかもしれません。  
### そこのところをご承知ください...
